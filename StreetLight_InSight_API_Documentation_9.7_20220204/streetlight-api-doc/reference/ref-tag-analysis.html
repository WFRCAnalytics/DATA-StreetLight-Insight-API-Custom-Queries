<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="api-reference-tag-an-analysis">API Reference: Tag an Analysis</h1>
<h2 id="description">Description</h2>
<p>Assign a Tag to one or more Analyses.</p>
<h2 id="http-request-method-and-url">HTTP request method and URL</h2>
<pre><code>POST https://insight.streetlightdata.com/api/v2/tags/tag_analyses</code></pre>
<h2 id="authentication">Authentication</h2>
<p>You must provide your API key in each request to identify your organization to StreetLight's servers. Provide your API key using a query parameter named <code>key</code>. The query parameter is the part of the request URL after the question mark. Alternatively, you can pass the key using the HTTP header <code>x-stl-key</code>. The server returns a <code>401 Unauthorized</code> status code if authentication fails.</p>
<p>Contact your StreetLight Data representative to obtain an API key.</p>
<h2 id="http-request-headers">HTTP request headers</h2>
<pre><code>Content-Type: application/json</code></pre>
<h2 id="http-request-body">HTTP request body</h2>
<p>The HTTP request body must be in JSON format. It has a required propertits <code>tag_name</code> and <code>analyses</code>.</p>
<h3 id="request-body-example">Request-body example</h3>
<pre><code>{
    &quot;insight_login_email&quot;:&quot;testemail@streetlightdata.com&quot;,
    &quot;tags&quot;: [&quot;San Francisco&quot;],
    &quot;analyses&quot;:[{&quot;uuid&quot;:&quot;1be1edc3-7575-4003-850c-62145f4986cb&quot;}]
}</code></pre>
<h3 id="insight_login_email-request-body-propertyrequired-string"><code>insight_login_email</code> request-body property(required, string)</h3>
<p>The <code>insight_login_email</code> request-body property is a required login email associated with the specific organization to check for user access.</p>
<h3 id="tags-request-body-property-required-array-of-tag-names"><code>tags</code> request-body property (required, array of Tag names)</h3>
<p>The <code>tags</code> request-body property is array of Tag name that refers to Tags created within the user's Organization.</p>
<h3 id="analyses-request-body-property-required-array-of-analysis-objects"><code>analyses</code> request-body property (required, array of Analysis objects)</h3>
<p>The <code>analyses</code> request-body property identifies an array of analyses for which assign the specicified <code>tag_name</code>.</p>
<p>This property is required and must be an array of analysis objects. An analysis object identifies an analysis by either name or UUID (universally unique ID) and must have one of the following two forms:</p>
<pre><code>{&quot;name&quot;: &quot;some name&quot;}</code></pre>
<p>or</p>
<pre><code>{&quot;uuid&quot;: &quot;server assigned UUID&quot;}</code></pre>
<h2 id="http-status-codes">HTTP status codes</h2>
<p>Returns <code>200 OK</code> on success. Returns <code>400 Bad Request</code> with an error message in the response body on input error.</p>
<h2 id="http-response-body">HTTP response body</h2>
<p>The HTTP response body is in JSON format. It includes the request <code>status</code>.</p>
<h3 id="response-body-example">Response-body example</h3>
<pre><code>{
  &quot;status&quot;: &quot;success&quot;
}</code></pre>
<h3 id="status-response-body-property"><code>status</code> response-body property</h3>
<p>Will always be <code>success</code> when the request is successful.</p>
<h2 id="example-request">Example request</h2>
<p>This example request and response was generated using the <code>curl</code> command-line utility. See the <a href="../quickstart">Data API Quick Start</a> for instructions to rerun this example against the live server.</p>
<pre><code>POST /api/v2/analyses/tags/tag_analyses?key=SS5OKOrGT4rQw/FCXZs55eEPZd6u0nd1 HTTP/1.1
User-Agent: curl/7.35.0
Host: insight.streetlightdata.com
Accept: */*
content-type:application/json
Content-Length: 92

{
    &quot;insight_login_email&quot;:&quot;testemail@streetlightdata.com&quot;,
    &quot;tags&quot;: [&quot;San Francisco&quot;],
    &quot;analyses&quot;:[{&quot;uuid&quot;:&quot;1be1edc3-7575-4003-850c-62145f4986cb&quot;}]
}</code></pre>
<h2 id="example-response">Example response</h2>
<pre><code>HTTP/1.1 200 OK
Date: Fri, 07 Apr 2017 04:12:20 GMT
Content-Type: application/json
Content-Length: 128
Connection: keep-alive
Set-Cookie: __cfduid=de80e418234dff51a8a3b431f3cf392081491538339; expires=Sat, 07-Apr-18 04:12:19 GMT; path=/; domain=.streetlightdata.com; HttpOnly
Signature: 08a12cbd0e03edec92da03abb8ad3d0a17507b63
Cache-Control: no-cache, no-store, must-revalidate
Pragma: no-cache
Expires: 0
Server: cloudflare-nginx
CF-RAY: 34ba25df1cca6bf2-SJC

{
  &quot;status&quot;: &quot;success&quot;
}</code></pre>
<p>Copyright Â© 2021, StreetLight Data, Inc. All rights reserved.</p>
</body>
</html>
